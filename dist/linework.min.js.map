{"version":3,"sources":["linework.min.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","Linework","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","value","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","_helpers","_point","LineworkCore","options","context","currentPosition","startPosition","debugMode","speed","queue","reset","bool","point","x","destination","y","distance","distanceTo","moveByAngleAndDistance","angle","isAnimating","onComplete","_func","push","func","curPos","enqueue","animate","direction","degrees","nextPosition","beginPath","moveTo","lineTo","stroke","closePath","_this","step","getNextPosition","hasReachedDestination","isFunction","drawLineSegment","setTimeout","requestAnimationFrame","nextItem","shift","angleTo","./helpers","./point","2","toRadians","Math","PI","getDirection","mergeOptions","mergedOptions","_len","arguments","optionsList","Array","_key","forEach","hasOwnProperty","isDefined","variable","undefined","isObject","_typeof","isNumber","isString","wrapAround","pos","innerWidth","innerHeight","_point2","Symbol","iterator","constructor","3","_core","_core2","defaults","core","setContext","setDebug","setPosition","newSpeed","setSpeed","drawLineTo","drawLineANgle","drawLineDirection","drawLineAngle","_distance","drawLineFunc","./core","4","Point","_x","_y","deg","atan2","sqrt","pow","angleInRadians","cos","sin","get"],"mappings":"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","file":"linework.min.js","sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.Linework = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Linework's core methods\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @since 0.0.1\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @author Richard Tan <chardos@gmail.com>\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */\n\n\nvar _helpers = require('./helpers');\n\nvar _point = require('./point');\n\nvar _point2 = _interopRequireDefault(_point);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar LineworkCore = function () {\n\t/**\n  * Linework core constructor\n  *\n  * @constructor\n  *\n  * @param {object} options\n  */\n\tfunction LineworkCore(options) {\n\t\t_classCallCheck(this, LineworkCore);\n\n\t\tthis.context = options.context;\n\t\tthis.currentPosition = options.startPosition;\n\t\tthis.debugMode = options.debugMode;\n\t\tthis.speed = options.speed;\n\n\t\tthis.queue = [];\n\t\tthis.reset();\n\t}\n\n\t/**\n  * Set the canvas context\n  *\n  * @param {object} context\n  */\n\n\n\t_createClass(LineworkCore, [{\n\t\tkey: 'setContext',\n\t\tvalue: function setContext(context) {\n\t\t\tthis.context = context;\n\t\t}\n\t}, {\n\t\tkey: 'setDebug',\n\t\tvalue: function setDebug(bool) {\n\t\t\tthis.debugMode = bool;\n\t\t}\n\t}, {\n\t\tkey: 'setPosition',\n\t\tvalue: function setPosition(point) {\n\t\t\tthis.currentPosition = point;\n\t\t}\n\t}, {\n\t\tkey: 'setSpeed',\n\t\tvalue: function setSpeed(speed) {\n\t\t\tthis.speed = speed;\n\t\t}\n\t}, {\n\t\tkey: 'hasReachedDestination',\n\t\tvalue: function hasReachedDestination() {\n\t\t\treturn this.currentPosition.x === this.destination.x && this.currentPosition.y === this.destination.y;\n\t\t}\n\t}, {\n\t\tkey: 'getNextPosition',\n\t\tvalue: function getNextPosition() {\n\t\t\tvar distance = this.currentPosition.distanceTo(this.destination);\n\t\t\tif (distance <= this.speed) {\n\t\t\t\treturn this.destination;\n\t\t\t}\n\t\t\treturn this.currentPosition.moveByAngleAndDistance(this.angle, this.speed);\n\t\t}\n\t}, {\n\t\tkey: 'reset',\n\t\tvalue: function reset() {\n\t\t\tthis.isAnimating = false;\n\t\t\tthis.destination = this.currentPosition;\n\t\t\tthis.angle = 0;\n\t\t\tthis.onComplete = null;\n\t\t}\n\t}, {\n\t\tkey: 'enqueue',\n\t\tvalue: function enqueue(_func, onComplete) {\n\t\t\tthis.queue.push({\n\t\t\t\tfunc: function func(curPos) {\n\t\t\t\t\treturn _func(curPos);\n\t\t\t\t},\n\t\t\t\tonComplete: onComplete\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: 'drawLineTo',\n\t\tvalue: function drawLineTo(point, onComplete) {\n\t\t\tthis.enqueue(function (curPos) {\n\t\t\t\treturn point;\n\t\t\t}, onComplete);\n\t\t\tthis.animate();\n\t\t}\n\t}, {\n\t\tkey: 'drawLineDirection',\n\t\tvalue: function drawLineDirection(direction, distance, onComplete) {\n\t\t\tthrow new Error('TODO: not implemented error');\n\t\t}\n\t}, {\n\t\tkey: 'drawLineAngle',\n\t\tvalue: function drawLineAngle(degrees, distance, onComplete) {\n\t\t\tthis.enqueue(function (curPos) {\n\t\t\t\treturn curPos.moveByAngleAndDistance(degrees, distance);\n\t\t\t}, onComplete);\n\t\t\tthis.animate();\n\t\t}\n\t}, {\n\t\tkey: 'drawLineFunc',\n\t\tvalue: function drawLineFunc(func, onComplete) {\n\t\t\tthis.enqueue(func, onComplete);\n\t\t\tthis.animate();\n\t\t}\n\t}, {\n\t\tkey: 'drawLineSegment',\n\t\tvalue: function drawLineSegment(nextPosition) {\n\t\t\tthis.context.beginPath();\n\t\t\tthis.context.moveTo(this.currentPosition.x, this.currentPosition.y);\n\t\t\tthis.context.lineTo(nextPosition.x, nextPosition.y);\n\t\t\tthis.context.stroke();\n\t\t\tthis.context.closePath();\n\t\t}\n\t}, {\n\t\tkey: 'animate',\n\t\tvalue: function animate() {\n\t\t\tvar _this = this;\n\n\t\t\tvar step = function step() {\n\t\t\t\tvar nextPosition = _this.getNextPosition();\n\t\t\t\tif (!_this.hasReachedDestination()) {\n\t\t\t\t\t_this.drawLineSegment(nextPosition);\n\t\t\t\t\t_this.currentPosition = nextPosition;\n\n\t\t\t\t\tif (!_this.debugMode) {\n\t\t\t\t\t\trequestAnimationFrame(step);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetTimeout(step, _this.speed);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif ((0, _helpers.isFunction)(_this.onComplete)) {\n\t\t\t\t\t\t_this.onComplete(_this.currentPosition);\n\t\t\t\t\t}\n\t\t\t\t\t_this.reset();\n\t\t\t\t\t_this.animate();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tif (!this.isAnimating && this.queue.length) {\n\t\t\t\tvar nextItem = this.queue.shift();\n\t\t\t\tthis.destination = nextItem.func(this.currentPosition);\n\t\t\t\tthis.angle = this.currentPosition.angleTo(this.destination);\n\t\t\t\tthis.onComplete = nextItem.onComplete;\n\t\t\t\tthis.isAnimating = true;\n\n\t\t\t\tstep();\n\t\t\t}\n\t\t}\n\t}]);\n\n\treturn LineworkCore;\n}();\n\nexports.default = LineworkCore;\n\n},{\"./helpers\":2,\"./point\":4}],2:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n/**\n * Linework helper methods\n *\n * @since 0.0.1\n * @author Richard Tan <chardos@gmail.com>\n */\n\n\nexports.toRadians = toRadians;\nexports.getDirection = getDirection;\nexports.mergeOptions = mergeOptions;\nexports.isDefined = isDefined;\nexports.isObject = isObject;\nexports.isNumber = isNumber;\nexports.isString = isString;\nexports.isFunction = isFunction;\nexports.wrapAround = wrapAround;\n\nvar _point = require('./point');\n\nvar _point2 = _interopRequireDefault(_point);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction toRadians(angle) {\n  return angle * Math.PI / 180;\n}\n\nfunction getDirection(angle) {\n  if (angle >= 225 && angle < 315) return 'up';\n  if (angle >= 315 || angle < 45) return 'right';\n  if (angle >= 45 && angle < 315) return 'down';\n  if (angle >= 135 && angle < 225) return 'left';\n\n  return 'unknown';\n}\n\nfunction mergeOptions() {\n  var mergedOptions = {};\n\n  for (var _len = arguments.length, optionsList = Array(_len), _key = 0; _key < _len; _key++) {\n    optionsList[_key] = arguments[_key];\n  }\n\n  optionsList.forEach(function (options) {\n    for (var key in options) {\n      if (options.hasOwnProperty(key)) {\n        mergedOptions[key] = options[key];\n      }\n    }\n  });\n\n  return mergedOptions;\n}\n\nfunction isDefined(variable) {\n  return variable !== undefined && variable !== null;\n}\n\nfunction isObject(variable) {\n  return isDefined(variable) && (typeof variable === 'undefined' ? 'undefined' : _typeof(variable)) === 'object';\n}\n\nfunction isNumber(variable) {\n  return isDefined(variable) && typeof variable === 'number';\n}\n\nfunction isString(variable) {\n  return isDefined(variable) && typeof variable === 'string';\n}\n\nfunction isFunction(variable) {\n  return isDefined(variable) && typeof variable === 'function';\n}\n\n/**\n * Wrap position around the window if the position is outside of the windows bounds.\n *\n * @param {Point}\tpos\t\tPosition to check if it is within window's bounds\n *\n * @returns {Point} The new position\n */\nfunction wrapAround(pos) {\n  var x = pos.x;\n  var y = pos.y;\n\n  if (x > window.innerWidth) {\n    x = 0;\n  } else if (x < 0) {\n    x = window.innerWidth;\n  }\n  if (y > window.innerHeight) {\n    y = 0;\n  } else if (y < 0) {\n    y = window.innerHeight;\n  }\n  return new _point2.default(x, y);\n}\n\n},{\"./point\":4}],3:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Linework = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     * Linework - Public interface\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     * Desired API\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     * var line = new Linework()\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     * line.setPosition(x,y)\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     * line.drawLine(degrees, distance, callback)\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     * line.drawLineTo(x, y, speed(optional), callback(optional))\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     * line.turnLeft(degrees, distance)\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     * line.curveLeft(degrees, radius)\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     * line.drawCircle(degrees, radius)\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     * @since 0.0.1\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     * @author Richard Tan <chardos@gmail.com>\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     */\n\n\nvar _helpers = require('./helpers');\n\nvar _core = require('./core');\n\nvar _core2 = _interopRequireDefault(_core);\n\nvar _point = require('./point');\n\nvar _point2 = _interopRequireDefault(_point);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Linework = exports.Linework = function () {\n  /**\n   * Linework constructor\n   *\n   * @constructor\n   *\n   * @param {object} options  Default options\n   */\n  function Linework() {\n    var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n    _classCallCheck(this, Linework);\n\n    var defaults = {\n      speed: 1,\n      context: null,\n      debugMode: false,\n      startPosition: new _point2.default(0, 0)\n    };\n    var mergedOptions = (0, _helpers.mergeOptions)(defaults, options);\n\n    // Delegate the methods to another class to hide the methods from the public interface\n    this.core = new _core2.default(mergedOptions);\n  }\n\n  /**\n   * Set the canvas's context\n   *\n   * @param {object} context\n   *\n   * @return {Linework}\n   */\n\n\n  _createClass(Linework, [{\n    key: 'setContext',\n    value: function setContext(context) {\n      this.core.setContext(context);\n\n      return this;\n    }\n\n    /**\n     * Set debug mode\n     *\n     * @param {boolean} bool\n     *\n     * @return {Linework}\n     */\n\n  }, {\n    key: 'setDebug',\n    value: function setDebug(bool) {\n      this.core.setDebug(bool);\n\n      return this;\n    }\n\n    /**\n     * Set the current position\n     *\n     * @param {number} x\n     * @param {number} y\n     *\n     * @return {Linework}\n     */\n\n  }, {\n    key: 'setPosition',\n    value: function setPosition(x, y) {\n      var point = (0, _helpers.wrapAround)(new _point2.default(x, y));\n      this.core.setPosition(point);\n\n      return this;\n    }\n\n    /**\n     * Set the speed\n     *\n     * @param {number} newSpeed\n     *\n     * @return {Linework}\n     */\n\n  }, {\n    key: 'setSpeed',\n    value: function setSpeed(newSpeed) {\n      this.core.setSpeed(newSpeed);\n\n      return this;\n    }\n\n    /**\n     * Draw a line\n     *\n     * @param {...*} params - object - {x: number, y: number}\n     *                      - function - currentPosition => newPosition\n     *                      - string - direction\n     *                      - number - distance\n     *\n     * @return {Linework}\n     */\n\n  }, {\n    key: 'drawLine',\n    value: function drawLine() {\n      if (arguments.length === 0) {\n        throw new Error('TODO invalid argument error');\n      }\n\n      if ((0, _helpers.isObject)(arguments.length <= 0 ? undefined : arguments[0])) {\n        var obj = arguments.length <= 0 ? undefined : arguments[0];\n        if ((0, _helpers.isDefined)(obj.x) && (0, _helpers.isDefined)(obj.y)) {\n          this.core.drawLineTo(obj.x, obj.y, obj.onComplete);\n        } else if ((0, _helpers.isDefined)(obj.degrees) && (0, _helpers.isDefined)(obj.distance)) {\n          this.core.drawLineANgle(obj.degrees, obj.distance, obj.onComplete);\n        } else if ((0, _helpers.isDefined)(obj.direction) && (0, _helpers.isDefined)(obj.distance)) {\n          this.core.drawLineDirection(obj.direction, obj.distance, obj.onComplete);\n        } else {\n          throw new Error('TODO Object incorrect format error');\n        }\n      } else if ((0, _helpers.isNumber)(arguments.length <= 0 ? undefined : arguments[0]) && (0, _helpers.isNumber)(arguments.length <= 1 ? undefined : arguments[1])) {\n        var degrees = arguments.length <= 0 ? undefined : arguments[0];\n        var distance = arguments.length <= 1 ? undefined : arguments[1];\n\n        this.core.drawLineAngle(degrees, distance);\n      } else if ((0, _helpers.isString)(arguments.length <= 0 ? undefined : arguments[0]) && (0, _helpers.isNumber)(arguments.length <= 1 ? undefined : arguments[1])) {\n        var direction = arguments.length <= 0 ? undefined : arguments[0];\n        var _distance = arguments.length <= 1 ? undefined : arguments[1];\n\n        this.core.drawLineDirection(direction, _distance);\n      } else if ((0, _helpers.isFunction)(arguments.length <= 0 ? undefined : arguments[0])) {\n        this.core.drawLineFunc(arguments.length <= 0 ? undefined : arguments[0]);\n      } else {\n        throw new Error('TODO another invalid argument error');\n      }\n\n      return this;\n    }\n\n    /**\n     * Draw a curve\n     *\n     * @return {Linework}\n     */\n\n  }, {\n    key: 'drawCurve',\n    value: function drawCurve() {\n      throw new Error('Not implemented error');\n    }\n\n    /**\n     * Draw a circle\n     *\n     * @return {Linework}\n     */\n\n  }, {\n    key: 'drawCircle',\n    value: function drawCircle() {\n      throw new Error('Not implemented error');\n    }\n  }]);\n\n  return Linework;\n}();\n\n},{\"./core\":1,\"./helpers\":2,\"./point\":4}],4:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Point on the cartisian plane\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @since 0.0.1\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @author Richard Tan <chardos@gmail.com>\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */\n\n\nvar _helpers = require('./helpers');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Point = function () {\n  function Point(x, y) {\n    _classCallCheck(this, Point);\n\n    this._x = x;\n    this._y = y;\n  }\n\n  _createClass(Point, [{\n    key: 'angleTo',\n    value: function angleTo(point) {\n      var deg = Math.atan2(point.y - this.y, point.x - this.x) * 180 / Math.PI;\n      if (deg < 0) return deg + 360;\n      return deg;\n    }\n  }, {\n    key: 'distanceTo',\n    value: function distanceTo(point) {\n      return Math.sqrt(Math.pow(point.x - this.x, 2) + Math.pow(point.y - this.y, 2));\n    }\n  }, {\n    key: 'moveByAngleAndDistance',\n    value: function moveByAngleAndDistance(angle, distance) {\n      var angleInRadians = (0, _helpers.toRadians)(angle);\n      return new Point(this.x + Math.cos(angleInRadians) * distance, this.y + Math.sin(angleInRadians) * distance);\n    }\n  }, {\n    key: 'x',\n    get: function get() {\n      return this._x;\n    }\n  }, {\n    key: 'y',\n    get: function get() {\n      return this._y;\n    }\n  }]);\n\n  return Point;\n}();\n\nexports.default = Point;\n\n},{\"./helpers\":2}]},{},[3])(3)\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJqc1xcbGluZXdvcmtcXGNvcmUuanMiLCJqc1xcbGluZXdvcmtcXGhlbHBlcnMuanMiLCJqc1xcbGluZXdvcmtcXGxpbmV3b3JrLmpzIiwianNcXGxpbmV3b3JrXFxwb2ludC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7OztxakJDQUE7Ozs7Ozs7O0FBTUE7O0FBQ0E7Ozs7Ozs7O0lBRXFCLFk7QUFDcEI7Ozs7Ozs7QUFPQSx1QkFBWSxPQUFaLEVBQXFCO0FBQUE7O0FBQ3BCLE9BQUssT0FBTCxHQUFlLFFBQVEsT0FBdkI7QUFDRSxPQUFLLGVBQUwsR0FBdUIsUUFBUSxhQUEvQjtBQUNGLE9BQUssU0FBTCxHQUFpQixRQUFRLFNBQXpCO0FBQ0EsT0FBSyxLQUFMLEdBQWEsUUFBUSxLQUFyQjs7QUFFQSxPQUFLLEtBQUwsR0FBYSxFQUFiO0FBQ0EsT0FBSyxLQUFMO0FBQ0E7O0FBRUQ7Ozs7Ozs7Ozs2QkFLVyxPLEVBQVM7QUFDbkIsUUFBSyxPQUFMLEdBQWUsT0FBZjtBQUNBOzs7MkJBRVEsSSxFQUFNO0FBQ2QsUUFBSyxTQUFMLEdBQWlCLElBQWpCO0FBQ0E7Ozs4QkFFVyxLLEVBQU87QUFDbEIsUUFBSyxlQUFMLEdBQXVCLEtBQXZCO0FBQ0E7OzsyQkFFUSxLLEVBQU87QUFDZixRQUFLLEtBQUwsR0FBYSxLQUFiO0FBQ0E7OzswQ0FFdUI7QUFDdkIsVUFBTyxLQUFLLGVBQUwsQ0FBcUIsQ0FBckIsS0FBMkIsS0FBSyxXQUFMLENBQWlCLENBQTVDLElBQ0YsS0FBSyxlQUFMLENBQXFCLENBQXJCLEtBQTJCLEtBQUssV0FBTCxDQUFpQixDQURqRDtBQUVBOzs7b0NBRWlCO0FBQ2hCLE9BQU0sV0FBVyxLQUFLLGVBQUwsQ0FBcUIsVUFBckIsQ0FBZ0MsS0FBSyxXQUFyQyxDQUFqQjtBQUNBLE9BQUksWUFBWSxLQUFLLEtBQXJCLEVBQTRCO0FBQzNCLFdBQU8sS0FBSyxXQUFaO0FBQ0E7QUFDRCxVQUFPLEtBQUssZUFBTCxDQUFxQixzQkFBckIsQ0FBNEMsS0FBSyxLQUFqRCxFQUF3RCxLQUFLLEtBQTdELENBQVA7QUFDRDs7OzBCQUVPO0FBQ1AsUUFBSyxXQUFMLEdBQW1CLEtBQW5CO0FBQ0EsUUFBSyxXQUFMLEdBQW1CLEtBQUssZUFBeEI7QUFDQSxRQUFLLEtBQUwsR0FBYSxDQUFiO0FBQ0EsUUFBSyxVQUFMLEdBQWtCLElBQWxCO0FBQ0E7OzswQkFFTyxLLEVBQU0sVSxFQUFZO0FBQ3pCLFFBQUssS0FBTCxDQUFXLElBQVgsQ0FBZ0I7QUFDZixVQUFNO0FBQUEsWUFBVSxNQUFLLE1BQUwsQ0FBVjtBQUFBLEtBRFM7QUFFZjtBQUZlLElBQWhCO0FBSUE7Ozs2QkFFVSxLLEVBQU8sVSxFQUFZO0FBQzdCLFFBQUssT0FBTCxDQUFhO0FBQUEsV0FBVSxLQUFWO0FBQUEsSUFBYixFQUE4QixVQUE5QjtBQUNBLFFBQUssT0FBTDtBQUNBOzs7b0NBRWlCLFMsRUFBVyxRLEVBQVUsVSxFQUFZO0FBQ2xELFNBQU0sSUFBSSxLQUFKLENBQVUsNkJBQVYsQ0FBTjtBQUNBOzs7Z0NBRWEsTyxFQUFTLFEsRUFBVSxVLEVBQVk7QUFDNUMsUUFBSyxPQUFMLENBQWE7QUFBQSxXQUFVLE9BQU8sc0JBQVAsQ0FBOEIsT0FBOUIsRUFBdUMsUUFBdkMsQ0FBVjtBQUFBLElBQWIsRUFBeUUsVUFBekU7QUFDQSxRQUFLLE9BQUw7QUFDQTs7OytCQUVZLEksRUFBTSxVLEVBQVk7QUFDOUIsUUFBSyxPQUFMLENBQWEsSUFBYixFQUFtQixVQUFuQjtBQUNBLFFBQUssT0FBTDtBQUNBOzs7a0NBRWUsWSxFQUFjO0FBQzdCLFFBQUssT0FBTCxDQUFhLFNBQWI7QUFDQSxRQUFLLE9BQUwsQ0FBYSxNQUFiLENBQW9CLEtBQUssZUFBTCxDQUFxQixDQUF6QyxFQUE0QyxLQUFLLGVBQUwsQ0FBcUIsQ0FBakU7QUFDQSxRQUFLLE9BQUwsQ0FBYSxNQUFiLENBQW9CLGFBQWEsQ0FBakMsRUFBb0MsYUFBYSxDQUFqRDtBQUNBLFFBQUssT0FBTCxDQUFhLE1BQWI7QUFDQSxRQUFLLE9BQUwsQ0FBYSxTQUFiO0FBQ0E7Ozs0QkFFUztBQUFBOztBQUNULE9BQU0sT0FBTyxTQUFQLElBQU8sR0FBTTtBQUNsQixRQUFNLGVBQWUsTUFBSyxlQUFMLEVBQXJCO0FBQ0EsUUFBSSxDQUFDLE1BQUsscUJBQUwsRUFBTCxFQUFtQztBQUNsQyxXQUFLLGVBQUwsQ0FBcUIsWUFBckI7QUFDQSxXQUFLLGVBQUwsR0FBdUIsWUFBdkI7O0FBRUEsU0FBSSxDQUFDLE1BQUssU0FBVixFQUFxQjtBQUNwQiw0QkFBc0IsSUFBdEI7QUFDQSxNQUZELE1BRU87QUFDTixpQkFBVyxJQUFYLEVBQWlCLE1BQUssS0FBdEI7QUFDQTtBQUNELEtBVEQsTUFTTztBQUNOLFNBQUkseUJBQVcsTUFBSyxVQUFoQixDQUFKLEVBQWlDO0FBQ2hDLFlBQUssVUFBTCxDQUFnQixNQUFLLGVBQXJCO0FBQ0E7QUFDRCxXQUFLLEtBQUw7QUFDQSxXQUFLLE9BQUw7QUFDQTtBQUNELElBbEJEOztBQW9CQSxPQUFJLENBQUMsS0FBSyxXQUFOLElBQXFCLEtBQUssS0FBTCxDQUFXLE1BQXBDLEVBQTRDO0FBQzNDLFFBQU0sV0FBVyxLQUFLLEtBQUwsQ0FBVyxLQUFYLEVBQWpCO0FBQ0EsU0FBSyxXQUFMLEdBQW1CLFNBQVMsSUFBVCxDQUFjLEtBQUssZUFBbkIsQ0FBbkI7QUFDQSxTQUFLLEtBQUwsR0FBYSxLQUFLLGVBQUwsQ0FBcUIsT0FBckIsQ0FBNkIsS0FBSyxXQUFsQyxDQUFiO0FBQ0EsU0FBSyxVQUFMLEdBQWtCLFNBQVMsVUFBM0I7QUFDQSxTQUFLLFdBQUwsR0FBbUIsSUFBbkI7O0FBRUE7QUFDQTtBQUNEOzs7Ozs7a0JBM0htQixZOzs7Ozs7Ozs7O0FDUnJCOzs7Ozs7OztRQVFnQixTLEdBQUEsUztRQUlBLFksR0FBQSxZO1FBU0EsWSxHQUFBLFk7UUFjQSxTLEdBQUEsUztRQUlBLFEsR0FBQSxRO1FBSUEsUSxHQUFBLFE7UUFJQSxRLEdBQUEsUTtRQUlBLFUsR0FBQSxVO1FBV0EsVSxHQUFBLFU7O0FBeERoQjs7Ozs7O0FBRU8sU0FBUyxTQUFULENBQW1CLEtBQW5CLEVBQTBCO0FBQy9CLFNBQU8sUUFBUSxLQUFLLEVBQWIsR0FBa0IsR0FBekI7QUFDRDs7QUFFTSxTQUFTLFlBQVQsQ0FBc0IsS0FBdEIsRUFBNkI7QUFDbEMsTUFBSSxTQUFTLEdBQVQsSUFBZ0IsUUFBUSxHQUE1QixFQUFpQyxPQUFPLElBQVA7QUFDakMsTUFBSSxTQUFTLEdBQVQsSUFBZ0IsUUFBUSxFQUE1QixFQUFnQyxPQUFPLE9BQVA7QUFDaEMsTUFBSSxTQUFTLEVBQVQsSUFBZSxRQUFRLEdBQTNCLEVBQWdDLE9BQU8sTUFBUDtBQUNoQyxNQUFJLFNBQVMsR0FBVCxJQUFnQixRQUFRLEdBQTVCLEVBQWlDLE9BQU8sTUFBUDs7QUFFakMsU0FBTyxTQUFQO0FBQ0Q7O0FBRU0sU0FBUyxZQUFULEdBQXNDO0FBQzNDLE1BQUksZ0JBQWdCLEVBQXBCOztBQUQyQyxvQ0FBYixXQUFhO0FBQWIsZUFBYTtBQUFBOztBQUczQyxjQUFZLE9BQVosQ0FBb0IsbUJBQVc7QUFDN0IsU0FBSyxJQUFJLEdBQVQsSUFBZ0IsT0FBaEIsRUFBeUI7QUFDdkIsVUFBSSxRQUFRLGNBQVIsQ0FBdUIsR0FBdkIsQ0FBSixFQUFpQztBQUMvQixzQkFBYyxHQUFkLElBQXFCLFFBQVEsR0FBUixDQUFyQjtBQUNEO0FBQ0Y7QUFDRixHQU5EOztBQVFBLFNBQU8sYUFBUDtBQUNEOztBQUVNLFNBQVMsU0FBVCxDQUFtQixRQUFuQixFQUE2QjtBQUNsQyxTQUFPLGFBQWEsU0FBYixJQUEwQixhQUFhLElBQTlDO0FBQ0Q7O0FBRU0sU0FBUyxRQUFULENBQWtCLFFBQWxCLEVBQTRCO0FBQ2pDLFNBQU8sVUFBVSxRQUFWLEtBQXVCLFFBQU8sUUFBUCx5Q0FBTyxRQUFQLE9BQW9CLFFBQWxEO0FBQ0Q7O0FBRU0sU0FBUyxRQUFULENBQWtCLFFBQWxCLEVBQTRCO0FBQ2pDLFNBQU8sVUFBVSxRQUFWLEtBQXVCLE9BQU8sUUFBUCxLQUFvQixRQUFsRDtBQUNEOztBQUVNLFNBQVMsUUFBVCxDQUFrQixRQUFsQixFQUE0QjtBQUNqQyxTQUFPLFVBQVUsUUFBVixLQUF1QixPQUFPLFFBQVAsS0FBb0IsUUFBbEQ7QUFDRDs7QUFFTSxTQUFTLFVBQVQsQ0FBb0IsUUFBcEIsRUFBOEI7QUFDbkMsU0FBTyxVQUFVLFFBQVYsS0FBdUIsT0FBTyxRQUFQLEtBQW9CLFVBQWxEO0FBQ0Q7O0FBRUQ7Ozs7Ozs7QUFPTyxTQUFTLFVBQVQsQ0FBb0IsR0FBcEIsRUFBeUI7QUFDOUIsTUFBSSxJQUFJLElBQUksQ0FBWjtBQUNBLE1BQUksSUFBSSxJQUFJLENBQVo7O0FBRUQsTUFBSSxJQUFJLE9BQU8sVUFBZixFQUEyQjtBQUMxQixRQUFJLENBQUo7QUFDQSxHQUZELE1BRU8sSUFBSSxJQUFJLENBQVIsRUFBVztBQUNqQixRQUFJLE9BQU8sVUFBWDtBQUNBO0FBQ0QsTUFBSSxJQUFJLE9BQU8sV0FBZixFQUE0QjtBQUMzQixRQUFJLENBQUo7QUFDQSxHQUZELE1BRU8sSUFBSSxJQUFJLENBQVIsRUFBVztBQUNqQixRQUFJLE9BQU8sV0FBWDtBQUNBO0FBQ0QsU0FBTyxvQkFBVSxDQUFWLEVBQWEsQ0FBYixDQUFQO0FBQ0E7Ozs7Ozs7Ozs7cWpCQzlFRDs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFlQTs7QUFTQTs7OztBQUNBOzs7Ozs7OztJQUVhLFEsV0FBQSxRO0FBQ1g7Ozs7Ozs7QUFPQSxzQkFBMEI7QUFBQSxRQUFkLE9BQWMseURBQUosRUFBSTs7QUFBQTs7QUFDeEIsUUFBTSxXQUFXO0FBQ2YsYUFBZSxDQURBO0FBRWYsZUFBZSxJQUZBO0FBR2YsaUJBQWUsS0FIQTtBQUlmLHFCQUFlLG9CQUFVLENBQVYsRUFBYSxDQUFiO0FBSkEsS0FBakI7QUFNQSxRQUFNLGdCQUFnQiwyQkFBYSxRQUFiLEVBQXVCLE9BQXZCLENBQXRCOztBQUVBO0FBQ0EsU0FBSyxJQUFMLEdBQVksbUJBQWlCLGFBQWpCLENBQVo7QUFDRDs7QUFFRDs7Ozs7Ozs7Ozs7K0JBT1csTyxFQUFTO0FBQ2xCLFdBQUssSUFBTCxDQUFVLFVBQVYsQ0FBcUIsT0FBckI7O0FBRUEsYUFBTyxJQUFQO0FBQ0Q7O0FBRUQ7Ozs7Ozs7Ozs7NkJBT1MsSSxFQUFNO0FBQ2IsV0FBSyxJQUFMLENBQVUsUUFBVixDQUFtQixJQUFuQjs7QUFFQSxhQUFPLElBQVA7QUFDRDs7QUFFRDs7Ozs7Ozs7Ozs7Z0NBUVksQyxFQUFHLEMsRUFBRztBQUNoQixVQUFNLFFBQVEseUJBQVcsb0JBQVUsQ0FBVixFQUFhLENBQWIsQ0FBWCxDQUFkO0FBQ0EsV0FBSyxJQUFMLENBQVUsV0FBVixDQUFzQixLQUF0Qjs7QUFFQSxhQUFPLElBQVA7QUFDRDs7QUFFRDs7Ozs7Ozs7Ozs2QkFPUyxRLEVBQVU7QUFDakIsV0FBSyxJQUFMLENBQVUsUUFBVixDQUFtQixRQUFuQjs7QUFFQSxhQUFPLElBQVA7QUFDRDs7QUFFRDs7Ozs7Ozs7Ozs7OzsrQkFVb0I7QUFDbEIsVUFBSSxVQUFPLE1BQVAsS0FBa0IsQ0FBdEIsRUFBeUI7QUFDdkIsY0FBTSxJQUFJLEtBQUosQ0FBVSw2QkFBVixDQUFOO0FBQ0Q7O0FBRUQsVUFBSSx3RUFBSixFQUF5QjtBQUN2QixZQUFNLHNEQUFOO0FBQ0EsWUFBSSx3QkFBVSxJQUFJLENBQWQsS0FBb0Isd0JBQVUsSUFBSSxDQUFkLENBQXhCLEVBQTBDO0FBQ3hDLGVBQUssSUFBTCxDQUFVLFVBQVYsQ0FBcUIsSUFBSSxDQUF6QixFQUE0QixJQUFJLENBQWhDLEVBQW1DLElBQUksVUFBdkM7QUFDRCxTQUZELE1BRU8sSUFBSSx3QkFBVSxJQUFJLE9BQWQsS0FBMEIsd0JBQVUsSUFBSSxRQUFkLENBQTlCLEVBQXVEO0FBQzVELGVBQUssSUFBTCxDQUFVLGFBQVYsQ0FBd0IsSUFBSSxPQUE1QixFQUFxQyxJQUFJLFFBQXpDLEVBQW1ELElBQUksVUFBdkQ7QUFDRCxTQUZNLE1BRUEsSUFBSSx3QkFBVSxJQUFJLFNBQWQsS0FBNEIsd0JBQVUsSUFBSSxRQUFkLENBQWhDLEVBQXlEO0FBQzlELGVBQUssSUFBTCxDQUFVLGlCQUFWLENBQTRCLElBQUksU0FBaEMsRUFBMkMsSUFBSSxRQUEvQyxFQUF5RCxJQUFJLFVBQTdEO0FBQ0QsU0FGTSxNQUVBO0FBQ0wsZ0JBQU0sSUFBSSxLQUFKLENBQVUsb0NBQVYsQ0FBTjtBQUNEO0FBQ0YsT0FYRCxNQVdPLElBQUksNEVBQXVCLHdFQUEzQixFQUFnRDtBQUNyRCxZQUFNLDBEQUFOO0FBQ0EsWUFBTSwyREFBTjs7QUFFQSxhQUFLLElBQUwsQ0FBVSxhQUFWLENBQXdCLE9BQXhCLEVBQWlDLFFBQWpDO0FBQ0QsT0FMTSxNQUtBLElBQUksNEVBQXVCLHdFQUEzQixFQUFnRDtBQUNyRCxZQUFNLDREQUFOO0FBQ0EsWUFBTSw0REFBTjs7QUFFQSxhQUFLLElBQUwsQ0FBVSxpQkFBVixDQUE0QixTQUE1QixFQUF1QyxTQUF2QztBQUNELE9BTE0sTUFLQSxJQUFJLDBFQUFKLEVBQTJCO0FBQ2hDLGFBQUssSUFBTCxDQUFVLFlBQVY7QUFDRCxPQUZNLE1BRUE7QUFDTCxjQUFNLElBQUksS0FBSixDQUFVLHFDQUFWLENBQU47QUFDRDs7QUFFRCxhQUFPLElBQVA7QUFDRDs7QUFFRDs7Ozs7Ozs7Z0NBS3FCO0FBQ25CLFlBQU0sSUFBSSxLQUFKLENBQVUsdUJBQVYsQ0FBTjtBQUNEOztBQUVEOzs7Ozs7OztpQ0FLc0I7QUFDcEIsWUFBTSxJQUFJLEtBQUosQ0FBVSx1QkFBVixDQUFOO0FBQ0Q7Ozs7Ozs7Ozs7Ozs7cWpCQ25LSDs7Ozs7OztBQUtDOzs7O0lBRW9CLEs7QUFDbkIsaUJBQVksQ0FBWixFQUFlLENBQWYsRUFBa0I7QUFBQTs7QUFDaEIsU0FBSyxFQUFMLEdBQVUsQ0FBVjtBQUNBLFNBQUssRUFBTCxHQUFVLENBQVY7QUFDRDs7Ozs0QkFVTyxLLEVBQU87QUFDYixVQUFNLE1BQU0sS0FBSyxLQUFMLENBQVcsTUFBTSxDQUFOLEdBQVUsS0FBSyxDQUExQixFQUE2QixNQUFNLENBQU4sR0FBVSxLQUFLLENBQTVDLElBQWlELEdBQWpELEdBQXVELEtBQUssRUFBeEU7QUFDRCxVQUFJLE1BQU0sQ0FBVixFQUFhLE9BQU8sTUFBTSxHQUFiO0FBQ2IsYUFBTyxHQUFQO0FBQ0E7OzsrQkFFVSxLLEVBQU87QUFDaEIsYUFBTyxLQUFLLElBQUwsQ0FBVSxLQUFLLEdBQUwsQ0FBUyxNQUFNLENBQU4sR0FBVSxLQUFLLENBQXhCLEVBQTJCLENBQTNCLElBQWdDLEtBQUssR0FBTCxDQUFTLE1BQU0sQ0FBTixHQUFVLEtBQUssQ0FBeEIsRUFBMkIsQ0FBM0IsQ0FBMUMsQ0FBUDtBQUNEOzs7MkNBRXNCLEssRUFBTyxRLEVBQVU7QUFDdEMsVUFBTSxpQkFBaUIsd0JBQVUsS0FBVixDQUF2QjtBQUNBLGFBQU8sSUFBSSxLQUFKLENBQ0wsS0FBSyxDQUFMLEdBQVMsS0FBSyxHQUFMLENBQVMsY0FBVCxJQUEyQixRQUQvQixFQUVMLEtBQUssQ0FBTCxHQUFTLEtBQUssR0FBTCxDQUFTLGNBQVQsSUFBMkIsUUFGL0IsQ0FBUDtBQUlEOzs7d0JBeEJPO0FBQ04sYUFBTyxLQUFLLEVBQVo7QUFDRDs7O3dCQUVPO0FBQ04sYUFBTyxLQUFLLEVBQVo7QUFDRDs7Ozs7O2tCQVprQixLIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIi8qKlxuICogTGluZXdvcmsncyBjb3JlIG1ldGhvZHNcbiAqXG4gKiBAc2luY2UgMC4wLjFcbiAqIEBhdXRob3IgUmljaGFyZCBUYW4gPGNoYXJkb3NAZ21haWwuY29tPlxuICovXG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi9oZWxwZXJzJztcbmltcG9ydCBQb2ludCBmcm9tICcuL3BvaW50JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTGluZXdvcmtDb3JlIHtcblx0LyoqXG5cdCAqIExpbmV3b3JrIGNvcmUgY29uc3RydWN0b3Jcblx0ICpcblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zXG5cdCAqL1xuXHRjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG5cdFx0dGhpcy5jb250ZXh0ID0gb3B0aW9ucy5jb250ZXh0O1xuICAgIHRoaXMuY3VycmVudFBvc2l0aW9uID0gb3B0aW9ucy5zdGFydFBvc2l0aW9uO1xuXHRcdHRoaXMuZGVidWdNb2RlID0gb3B0aW9ucy5kZWJ1Z01vZGU7XG5cdFx0dGhpcy5zcGVlZCA9IG9wdGlvbnMuc3BlZWQ7XG5cblx0XHR0aGlzLnF1ZXVlID0gW107XG5cdFx0dGhpcy5yZXNldCgpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFNldCB0aGUgY2FudmFzIGNvbnRleHRcblx0ICpcblx0ICogQHBhcmFtIHtvYmplY3R9IGNvbnRleHRcblx0ICovXG5cdHNldENvbnRleHQoY29udGV4dCkge1xuXHRcdHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG5cdH1cblxuXHRzZXREZWJ1Zyhib29sKSB7XG5cdFx0dGhpcy5kZWJ1Z01vZGUgPSBib29sO1xuXHR9XG5cblx0c2V0UG9zaXRpb24ocG9pbnQpIHtcblx0XHR0aGlzLmN1cnJlbnRQb3NpdGlvbiA9IHBvaW50O1xuXHR9XG5cblx0c2V0U3BlZWQoc3BlZWQpIHtcblx0XHR0aGlzLnNwZWVkID0gc3BlZWQ7XG5cdH1cblxuXHRoYXNSZWFjaGVkRGVzdGluYXRpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuY3VycmVudFBvc2l0aW9uLnggPT09IHRoaXMuZGVzdGluYXRpb24ueFxuXHRcdFx0XHQmJiB0aGlzLmN1cnJlbnRQb3NpdGlvbi55ID09PSB0aGlzLmRlc3RpbmF0aW9uLnk7XG5cdH1cblxuXHRnZXROZXh0UG9zaXRpb24oKSB7XG5cdFx0XHRjb25zdCBkaXN0YW5jZSA9IHRoaXMuY3VycmVudFBvc2l0aW9uLmRpc3RhbmNlVG8odGhpcy5kZXN0aW5hdGlvbik7XG5cdFx0XHRpZiAoZGlzdGFuY2UgPD0gdGhpcy5zcGVlZCkge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5kZXN0aW5hdGlvbjtcblx0XHRcdH1cblx0XHRcdHJldHVybiB0aGlzLmN1cnJlbnRQb3NpdGlvbi5tb3ZlQnlBbmdsZUFuZERpc3RhbmNlKHRoaXMuYW5nbGUsIHRoaXMuc3BlZWQpO1xuXHR9XG5cblx0cmVzZXQoKSB7XG5cdFx0dGhpcy5pc0FuaW1hdGluZyA9IGZhbHNlO1xuXHRcdHRoaXMuZGVzdGluYXRpb24gPSB0aGlzLmN1cnJlbnRQb3NpdGlvbjtcblx0XHR0aGlzLmFuZ2xlID0gMDtcblx0XHR0aGlzLm9uQ29tcGxldGUgPSBudWxsO1xuXHR9XG5cblx0ZW5xdWV1ZShmdW5jLCBvbkNvbXBsZXRlKSB7XG5cdFx0dGhpcy5xdWV1ZS5wdXNoKHtcblx0XHRcdGZ1bmM6IGN1clBvcyA9PiBmdW5jKGN1clBvcyksXG5cdFx0XHRvbkNvbXBsZXRlXG5cdFx0fSk7XG5cdH1cblxuXHRkcmF3TGluZVRvKHBvaW50LCBvbkNvbXBsZXRlKSB7XG5cdFx0dGhpcy5lbnF1ZXVlKGN1clBvcyA9PiBwb2ludCwgb25Db21wbGV0ZSk7XG5cdFx0dGhpcy5hbmltYXRlKCk7XG5cdH1cblxuXHRkcmF3TGluZURpcmVjdGlvbihkaXJlY3Rpb24sIGRpc3RhbmNlLCBvbkNvbXBsZXRlKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKCdUT0RPOiBub3QgaW1wbGVtZW50ZWQgZXJyb3InKTtcblx0fVxuXG5cdGRyYXdMaW5lQW5nbGUoZGVncmVlcywgZGlzdGFuY2UsIG9uQ29tcGxldGUpIHtcblx0XHR0aGlzLmVucXVldWUoY3VyUG9zID0+IGN1clBvcy5tb3ZlQnlBbmdsZUFuZERpc3RhbmNlKGRlZ3JlZXMsIGRpc3RhbmNlKSwgb25Db21wbGV0ZSk7XG5cdFx0dGhpcy5hbmltYXRlKCk7XG5cdH1cblxuXHRkcmF3TGluZUZ1bmMoZnVuYywgb25Db21wbGV0ZSkge1xuXHRcdHRoaXMuZW5xdWV1ZShmdW5jLCBvbkNvbXBsZXRlKTtcblx0XHR0aGlzLmFuaW1hdGUoKTtcblx0fVxuXG5cdGRyYXdMaW5lU2VnbWVudChuZXh0UG9zaXRpb24pIHtcblx0XHR0aGlzLmNvbnRleHQuYmVnaW5QYXRoKCk7XG5cdFx0dGhpcy5jb250ZXh0Lm1vdmVUbyh0aGlzLmN1cnJlbnRQb3NpdGlvbi54LCB0aGlzLmN1cnJlbnRQb3NpdGlvbi55KTtcblx0XHR0aGlzLmNvbnRleHQubGluZVRvKG5leHRQb3NpdGlvbi54LCBuZXh0UG9zaXRpb24ueSk7XG5cdFx0dGhpcy5jb250ZXh0LnN0cm9rZSgpO1xuXHRcdHRoaXMuY29udGV4dC5jbG9zZVBhdGgoKTtcblx0fVxuXG5cdGFuaW1hdGUoKSB7XG5cdFx0Y29uc3Qgc3RlcCA9ICgpID0+IHtcblx0XHRcdGNvbnN0IG5leHRQb3NpdGlvbiA9IHRoaXMuZ2V0TmV4dFBvc2l0aW9uKCk7XG5cdFx0XHRpZiAoIXRoaXMuaGFzUmVhY2hlZERlc3RpbmF0aW9uKCkpIHtcblx0XHRcdFx0dGhpcy5kcmF3TGluZVNlZ21lbnQobmV4dFBvc2l0aW9uKTtcblx0XHRcdFx0dGhpcy5jdXJyZW50UG9zaXRpb24gPSBuZXh0UG9zaXRpb247XG5cblx0XHRcdFx0aWYgKCF0aGlzLmRlYnVnTW9kZSkge1xuXHRcdFx0XHRcdHJlcXVlc3RBbmltYXRpb25GcmFtZShzdGVwKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRzZXRUaW1lb3V0KHN0ZXAsIHRoaXMuc3BlZWQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZiAoaXNGdW5jdGlvbih0aGlzLm9uQ29tcGxldGUpKSB7XG5cdFx0XHRcdFx0dGhpcy5vbkNvbXBsZXRlKHRoaXMuY3VycmVudFBvc2l0aW9uKTtcblx0XHRcdFx0fVxuXHRcdFx0XHR0aGlzLnJlc2V0KCk7XG5cdFx0XHRcdHRoaXMuYW5pbWF0ZSgpO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHRpZiAoIXRoaXMuaXNBbmltYXRpbmcgJiYgdGhpcy5xdWV1ZS5sZW5ndGgpIHtcblx0XHRcdGNvbnN0IG5leHRJdGVtID0gdGhpcy5xdWV1ZS5zaGlmdCgpO1xuXHRcdFx0dGhpcy5kZXN0aW5hdGlvbiA9IG5leHRJdGVtLmZ1bmModGhpcy5jdXJyZW50UG9zaXRpb24pO1xuXHRcdFx0dGhpcy5hbmdsZSA9IHRoaXMuY3VycmVudFBvc2l0aW9uLmFuZ2xlVG8odGhpcy5kZXN0aW5hdGlvbik7XG5cdFx0XHR0aGlzLm9uQ29tcGxldGUgPSBuZXh0SXRlbS5vbkNvbXBsZXRlO1xuXHRcdFx0dGhpcy5pc0FuaW1hdGluZyA9IHRydWU7XG5cblx0XHRcdHN0ZXAoKTtcblx0XHR9XG5cdH1cbn1cbiIsIlxuLyoqXG4gKiBMaW5ld29yayBoZWxwZXIgbWV0aG9kc1xuICpcbiAqIEBzaW5jZSAwLjAuMVxuICogQGF1dGhvciBSaWNoYXJkIFRhbiA8Y2hhcmRvc0BnbWFpbC5jb20+XG4gKi9cbmltcG9ydCBQb2ludCBmcm9tICcuL3BvaW50JztcblxuZXhwb3J0IGZ1bmN0aW9uIHRvUmFkaWFucyhhbmdsZSkge1xuICByZXR1cm4gYW5nbGUgKiBNYXRoLlBJIC8gMTgwO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGlyZWN0aW9uKGFuZ2xlKSB7XG4gIGlmIChhbmdsZSA+PSAyMjUgJiYgYW5nbGUgPCAzMTUpIHJldHVybiAndXAnO1xuICBpZiAoYW5nbGUgPj0gMzE1IHx8IGFuZ2xlIDwgNDUpIHJldHVybiAncmlnaHQnO1xuICBpZiAoYW5nbGUgPj0gNDUgJiYgYW5nbGUgPCAzMTUpIHJldHVybiAnZG93bic7XG4gIGlmIChhbmdsZSA+PSAxMzUgJiYgYW5nbGUgPCAyMjUpIHJldHVybiAnbGVmdCc7XG5cbiAgcmV0dXJuICd1bmtub3duJztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlT3B0aW9ucyguLi5vcHRpb25zTGlzdCkge1xuICBsZXQgbWVyZ2VkT3B0aW9ucyA9IHt9O1xuXG4gIG9wdGlvbnNMaXN0LmZvckVhY2gob3B0aW9ucyA9PiB7XG4gICAgZm9yIChsZXQga2V5IGluIG9wdGlvbnMpIHtcbiAgICAgIGlmIChvcHRpb25zLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgbWVyZ2VkT3B0aW9uc1trZXldID0gb3B0aW9uc1trZXldO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIG1lcmdlZE9wdGlvbnM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0RlZmluZWQodmFyaWFibGUpIHtcbiAgcmV0dXJuIHZhcmlhYmxlICE9PSB1bmRlZmluZWQgJiYgdmFyaWFibGUgIT09IG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc09iamVjdCh2YXJpYWJsZSkge1xuICByZXR1cm4gaXNEZWZpbmVkKHZhcmlhYmxlKSAmJiB0eXBlb2YgdmFyaWFibGUgPT09ICdvYmplY3QnO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNOdW1iZXIodmFyaWFibGUpIHtcbiAgcmV0dXJuIGlzRGVmaW5lZCh2YXJpYWJsZSkgJiYgdHlwZW9mIHZhcmlhYmxlID09PSAnbnVtYmVyJztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzU3RyaW5nKHZhcmlhYmxlKSB7XG4gIHJldHVybiBpc0RlZmluZWQodmFyaWFibGUpICYmIHR5cGVvZiB2YXJpYWJsZSA9PT0gJ3N0cmluZyc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0Z1bmN0aW9uKHZhcmlhYmxlKSB7XG4gIHJldHVybiBpc0RlZmluZWQodmFyaWFibGUpICYmIHR5cGVvZiB2YXJpYWJsZSA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuLyoqXG4gKiBXcmFwIHBvc2l0aW9uIGFyb3VuZCB0aGUgd2luZG93IGlmIHRoZSBwb3NpdGlvbiBpcyBvdXRzaWRlIG9mIHRoZSB3aW5kb3dzIGJvdW5kcy5cbiAqXG4gKiBAcGFyYW0ge1BvaW50fVx0cG9zXHRcdFBvc2l0aW9uIHRvIGNoZWNrIGlmIGl0IGlzIHdpdGhpbiB3aW5kb3cncyBib3VuZHNcbiAqXG4gKiBAcmV0dXJucyB7UG9pbnR9IFRoZSBuZXcgcG9zaXRpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdyYXBBcm91bmQocG9zKSB7XG4gIGxldCB4ID0gcG9zLng7XG4gIGxldCB5ID0gcG9zLnk7XG5cblx0aWYgKHggPiB3aW5kb3cuaW5uZXJXaWR0aCkge1xuXHRcdHggPSAwO1xuXHR9IGVsc2UgaWYgKHggPCAwKSB7XG5cdFx0eCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuXHR9XG5cdGlmICh5ID4gd2luZG93LmlubmVySGVpZ2h0KSB7XG5cdFx0eSA9IDA7XG5cdH0gZWxzZSBpZiAoeSA8IDApIHtcblx0XHR5ID0gd2luZG93LmlubmVySGVpZ2h0O1xuXHR9XG5cdHJldHVybiBuZXcgUG9pbnQoeCwgeSk7XG59XG4iLCIvKipcbiogTGluZXdvcmsgLSBQdWJsaWMgaW50ZXJmYWNlXG4qXG4qIERlc2lyZWQgQVBJXG4qIHZhciBsaW5lID0gbmV3IExpbmV3b3JrKClcbiogbGluZS5zZXRQb3NpdGlvbih4LHkpXG4qIGxpbmUuZHJhd0xpbmUoZGVncmVlcywgZGlzdGFuY2UsIGNhbGxiYWNrKVxuKiBsaW5lLmRyYXdMaW5lVG8oeCwgeSwgc3BlZWQob3B0aW9uYWwpLCBjYWxsYmFjayhvcHRpb25hbCkpXG4qIGxpbmUudHVybkxlZnQoZGVncmVlcywgZGlzdGFuY2UpXG4qIGxpbmUuY3VydmVMZWZ0KGRlZ3JlZXMsIHJhZGl1cylcbiogbGluZS5kcmF3Q2lyY2xlKGRlZ3JlZXMsIHJhZGl1cylcbipcbiogQHNpbmNlIDAuMC4xXG4qIEBhdXRob3IgUmljaGFyZCBUYW4gPGNoYXJkb3NAZ21haWwuY29tPlxuKi9cbmltcG9ydCB7XG4gIGlzRGVmaW5lZCxcbiAgaXNPYmplY3QsXG4gIGlzTnVtYmVyLFxuICBpc1N0cmluZyxcbiAgaXNGdW5jdGlvbixcbiAgd3JhcEFyb3VuZCxcbiAgbWVyZ2VPcHRpb25zLFxufSBmcm9tICcuL2hlbHBlcnMnO1xuaW1wb3J0IExpbmV3b3JrQ29yZSBmcm9tICcuL2NvcmUnO1xuaW1wb3J0IFBvaW50IGZyb20gJy4vcG9pbnQnO1xuXG5leHBvcnQgY2xhc3MgTGluZXdvcmsge1xuICAvKipcbiAgICogTGluZXdvcmsgY29uc3RydWN0b3JcbiAgICpcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zICBEZWZhdWx0IG9wdGlvbnNcbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IGRlZmF1bHRzID0ge1xuICAgICAgc3BlZWQ6ICAgICAgICAgMSxcbiAgICAgIGNvbnRleHQ6ICAgICAgIG51bGwsXG4gICAgICBkZWJ1Z01vZGU6ICAgICBmYWxzZSxcbiAgICAgIHN0YXJ0UG9zaXRpb246IG5ldyBQb2ludCgwLCAwKSxcbiAgICB9O1xuICAgIGNvbnN0IG1lcmdlZE9wdGlvbnMgPSBtZXJnZU9wdGlvbnMoZGVmYXVsdHMsIG9wdGlvbnMpO1xuXG4gICAgLy8gRGVsZWdhdGUgdGhlIG1ldGhvZHMgdG8gYW5vdGhlciBjbGFzcyB0byBoaWRlIHRoZSBtZXRob2RzIGZyb20gdGhlIHB1YmxpYyBpbnRlcmZhY2VcbiAgICB0aGlzLmNvcmUgPSBuZXcgTGluZXdvcmtDb3JlKG1lcmdlZE9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgY2FudmFzJ3MgY29udGV4dFxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gY29udGV4dFxuICAgKlxuICAgKiBAcmV0dXJuIHtMaW5ld29ya31cbiAgICovXG4gIHNldENvbnRleHQoY29udGV4dCkge1xuICAgIHRoaXMuY29yZS5zZXRDb250ZXh0KGNvbnRleHQpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogU2V0IGRlYnVnIG1vZGVcbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSBib29sXG4gICAqXG4gICAqIEByZXR1cm4ge0xpbmV3b3JrfVxuICAgKi9cbiAgc2V0RGVidWcoYm9vbCkge1xuICAgIHRoaXMuY29yZS5zZXREZWJ1Zyhib29sKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgY3VycmVudCBwb3NpdGlvblxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0geFxuICAgKiBAcGFyYW0ge251bWJlcn0geVxuICAgKlxuICAgKiBAcmV0dXJuIHtMaW5ld29ya31cbiAgICovXG4gIHNldFBvc2l0aW9uKHgsIHkpIHtcbiAgICBjb25zdCBwb2ludCA9IHdyYXBBcm91bmQobmV3IFBvaW50KHgsIHkpKTtcbiAgICB0aGlzLmNvcmUuc2V0UG9zaXRpb24ocG9pbnQpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBzcGVlZFxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gbmV3U3BlZWRcbiAgICpcbiAgICogQHJldHVybiB7TGluZXdvcmt9XG4gICAqL1xuICBzZXRTcGVlZChuZXdTcGVlZCkge1xuICAgIHRoaXMuY29yZS5zZXRTcGVlZChuZXdTcGVlZCk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBEcmF3IGEgbGluZVxuICAgKlxuICAgKiBAcGFyYW0gey4uLip9IHBhcmFtcyAtIG9iamVjdCAtIHt4OiBudW1iZXIsIHk6IG51bWJlcn1cbiAgICogICAgICAgICAgICAgICAgICAgICAgLSBmdW5jdGlvbiAtIGN1cnJlbnRQb3NpdGlvbiA9PiBuZXdQb3NpdGlvblxuICAgKiAgICAgICAgICAgICAgICAgICAgICAtIHN0cmluZyAtIGRpcmVjdGlvblxuICAgKiAgICAgICAgICAgICAgICAgICAgICAtIG51bWJlciAtIGRpc3RhbmNlXG4gICAqXG4gICAqIEByZXR1cm4ge0xpbmV3b3JrfVxuICAgKi9cbiAgZHJhd0xpbmUoLi4ucGFyYW1zKSB7XG4gICAgaWYgKHBhcmFtcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVE9ETyBpbnZhbGlkIGFyZ3VtZW50IGVycm9yJyk7XG4gICAgfVxuXG4gICAgaWYgKGlzT2JqZWN0KHBhcmFtc1swXSkpIHtcbiAgICAgIGNvbnN0IG9iaiA9IHBhcmFtc1swXTtcbiAgICAgIGlmIChpc0RlZmluZWQob2JqLngpICYmIGlzRGVmaW5lZChvYmoueSkpIHtcbiAgICAgICAgdGhpcy5jb3JlLmRyYXdMaW5lVG8ob2JqLngsIG9iai55LCBvYmoub25Db21wbGV0ZSk7XG4gICAgICB9IGVsc2UgaWYgKGlzRGVmaW5lZChvYmouZGVncmVlcykgJiYgaXNEZWZpbmVkKG9iai5kaXN0YW5jZSkpIHtcbiAgICAgICAgdGhpcy5jb3JlLmRyYXdMaW5lQU5nbGUob2JqLmRlZ3JlZXMsIG9iai5kaXN0YW5jZSwgb2JqLm9uQ29tcGxldGUpO1xuICAgICAgfSBlbHNlIGlmIChpc0RlZmluZWQob2JqLmRpcmVjdGlvbikgJiYgaXNEZWZpbmVkKG9iai5kaXN0YW5jZSkpIHtcbiAgICAgICAgdGhpcy5jb3JlLmRyYXdMaW5lRGlyZWN0aW9uKG9iai5kaXJlY3Rpb24sIG9iai5kaXN0YW5jZSwgb2JqLm9uQ29tcGxldGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUT0RPIE9iamVjdCBpbmNvcnJlY3QgZm9ybWF0IGVycm9yJyk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpc051bWJlcihwYXJhbXNbMF0pICYmIGlzTnVtYmVyKHBhcmFtc1sxXSkpIHtcbiAgICAgIGNvbnN0IGRlZ3JlZXMgPSBwYXJhbXNbMF07XG4gICAgICBjb25zdCBkaXN0YW5jZSA9IHBhcmFtc1sxXTtcblxuICAgICAgdGhpcy5jb3JlLmRyYXdMaW5lQW5nbGUoZGVncmVlcywgZGlzdGFuY2UpO1xuICAgIH0gZWxzZSBpZiAoaXNTdHJpbmcocGFyYW1zWzBdKSAmJiBpc051bWJlcihwYXJhbXNbMV0pKSB7XG4gICAgICBjb25zdCBkaXJlY3Rpb24gPSBwYXJhbXNbMF07XG4gICAgICBjb25zdCBkaXN0YW5jZSA9IHBhcmFtc1sxXTtcblxuICAgICAgdGhpcy5jb3JlLmRyYXdMaW5lRGlyZWN0aW9uKGRpcmVjdGlvbiwgZGlzdGFuY2UpO1xuICAgIH0gZWxzZSBpZiAoaXNGdW5jdGlvbihwYXJhbXNbMF0pKSB7XG4gICAgICB0aGlzLmNvcmUuZHJhd0xpbmVGdW5jKHBhcmFtc1swXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVE9ETyBhbm90aGVyIGludmFsaWQgYXJndW1lbnQgZXJyb3InKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBEcmF3IGEgY3VydmVcbiAgICpcbiAgICogQHJldHVybiB7TGluZXdvcmt9XG4gICAqL1xuICBkcmF3Q3VydmUoLi4ucGFyYW1zKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdOb3QgaW1wbGVtZW50ZWQgZXJyb3InKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEcmF3IGEgY2lyY2xlXG4gICAqXG4gICAqIEByZXR1cm4ge0xpbmV3b3JrfVxuICAgKi9cbiAgZHJhd0NpcmNsZSguLi5wYXJhbXMpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdCBpbXBsZW1lbnRlZCBlcnJvcicpO1xuICB9XG59XG4iLCIvKipcbiAqIFBvaW50IG9uIHRoZSBjYXJ0aXNpYW4gcGxhbmVcbiAqIEBzaW5jZSAwLjAuMVxuICogQGF1dGhvciBSaWNoYXJkIFRhbiA8Y2hhcmRvc0BnbWFpbC5jb20+XG4gKi9cbiBpbXBvcnQgeyB0b1JhZGlhbnMgfSBmcm9tICcuL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb2ludCB7XG4gIGNvbnN0cnVjdG9yKHgsIHkpIHtcbiAgICB0aGlzLl94ID0geDtcbiAgICB0aGlzLl95ID0geTtcbiAgfVxuXG4gIGdldCB4KCkge1xuICAgIHJldHVybiB0aGlzLl94O1xuICB9XG5cbiAgZ2V0IHkoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3k7XG4gIH1cblxuICBhbmdsZVRvKHBvaW50KSB7XG4gICAgY29uc3QgZGVnID0gTWF0aC5hdGFuMihwb2ludC55IC0gdGhpcy55LCBwb2ludC54IC0gdGhpcy54KSAqIDE4MCAvIE1hdGguUEk7XG4gIFx0aWYgKGRlZyA8IDApIHJldHVybiBkZWcgKyAzNjA7XG4gIFx0cmV0dXJuIGRlZztcbiAgfVxuXG4gIGRpc3RhbmNlVG8ocG9pbnQpIHtcbiAgICByZXR1cm4gTWF0aC5zcXJ0KE1hdGgucG93KHBvaW50LnggLSB0aGlzLngsIDIpICsgTWF0aC5wb3cocG9pbnQueSAtIHRoaXMueSwgMikpO1xuICB9XG5cbiAgbW92ZUJ5QW5nbGVBbmREaXN0YW5jZShhbmdsZSwgZGlzdGFuY2UpIHtcbiAgICBjb25zdCBhbmdsZUluUmFkaWFucyA9IHRvUmFkaWFucyhhbmdsZSk7XG4gICAgcmV0dXJuIG5ldyBQb2ludChcbiAgICAgIHRoaXMueCArIE1hdGguY29zKGFuZ2xlSW5SYWRpYW5zKSAqIGRpc3RhbmNlLFxuICAgICAgdGhpcy55ICsgTWF0aC5zaW4oYW5nbGVJblJhZGlhbnMpICogZGlzdGFuY2VcbiAgICApO1xuICB9XG59XG4iXX0=\n"],"sourceRoot":"/source/"}