!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.Linework=e()}}(function(){return function e(t,n,i){function o(u,s){if(!n[u]){if(!t[u]){var a="function"==typeof require&&require;if(!s&&a)return a(u,!0);if(r)return r(u,!0);var c=new Error("Cannot find module '"+u+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[u]={exports:{}};t[u][0].call(f.exports,function(e){var n=t[u][1][e];return o(n?n:e)},f,f.exports,e,t,n,i)}return n[u].exports}for(var r="function"==typeof require&&require,u=0;u<i.length;u++)o(i[u]);return o}({1:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=e("./helpers"),s=e("./point"),a=(i(s),function(){function e(t){o(this,e),this.context=t.context,this.currentPosition=t.startPosition,this.debugMode=t.debugMode,this.speed=t.speed,this.queue=[],this.reset()}return r(e,[{key:"setContext",value:function(e){this.context=e}},{key:"setDebug",value:function(e){this.debugMode=e}},{key:"setPosition",value:function(e){this.currentPosition=e}},{key:"setSpeed",value:function(e){this.speed=e}},{key:"hasReachedDestination",value:function(){return this.currentPosition.x===this.destination.x&&this.currentPosition.y===this.destination.y}},{key:"getNextPosition",value:function(){var e=this.currentPosition.distanceTo(this.destination);return e<=this.speed?this.destination:this.currentPosition.moveByAngleAndDistance(this.angle,this.speed)}},{key:"reset",value:function(){this.isAnimating=!1,this.destination=this.currentPosition,this.angle=0,this.onComplete=null}},{key:"enqueue",value:function(e,t){this.queue.push({func:function(t){return e(t)},onComplete:t})}},{key:"drawLineTo",value:function(e,t){this.enqueue(function(t){return e},t),this.animate()}},{key:"drawLineDirection",value:function(e,t,n){throw new Error("TODO: not implemented error")}},{key:"drawLineAngle",value:function(e,t,n){this.enqueue(function(n){return n.moveByAngleAndDistance(e,t)},n),this.animate()}},{key:"drawLineFunc",value:function(e,t){this.enqueue(e,t),this.animate()}},{key:"drawLineSegment",value:function(e){this.context.beginPath(),this.context.moveTo(this.currentPosition.x,this.currentPosition.y),this.context.lineTo(e.x,e.y),this.context.stroke(),this.context.closePath()}},{key:"animate",value:function(){var e=this,t=function i(){var t=e.getNextPosition();e.hasReachedDestination()?((0,u.isFunction)(e.onComplete)&&e.onComplete(e.currentPosition),e.reset(),e.animate()):(e.drawLineSegment(t),e.currentPosition=t,e.debugMode?setTimeout(i,e.speed):requestAnimationFrame(i))};if(!this.isAnimating&&this.queue.length){var n=this.queue.shift();this.destination=n.func(this.currentPosition),this.angle=this.currentPosition.angleTo(this.destination),this.onComplete=n.onComplete,this.isAnimating=!0,t()}}}]),e}());n["default"]=a},{"./helpers":2,"./point":4}],2:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e){return e*Math.PI/180}function r(e){return e>=225&&e<315?"up":e>=315||e<45?"right":e>=45&&e<315?"down":e>=135&&e<225?"left":"unknown"}function u(){for(var e={},t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return n.forEach(function(t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}),e}function s(e){return void 0!==e&&null!==e}function a(e){return s(e)&&"object"===("undefined"==typeof e?"undefined":h(e))}function c(e){return s(e)&&"number"==typeof e}function f(e){return s(e)&&"string"==typeof e}function l(e){return s(e)&&"function"==typeof e}function d(e){var t=e.x,n=e.y;return t>window.innerWidth?t=0:t<0&&(t=window.innerWidth),n>window.innerHeight?n=0:n<0&&(n=window.innerHeight),new y["default"](t,n)}Object.defineProperty(n,"__esModule",{value:!0});var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};n.toRadians=o,n.getDirection=r,n.mergeOptions=u,n.isDefined=s,n.isObject=a,n.isNumber=c,n.isString=f,n.isFunction=l,n.wrapAround=d;var v=e("./point"),y=i(v)},{"./point":4}],3:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Linework=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=e("./helpers"),s=e("./core"),a=i(s),c=e("./point"),f=i(c);n.Linework=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];o(this,e);var n={speed:1,context:null,debugMode:!1,startPosition:new f["default"](0,0)},i=(0,u.mergeOptions)(n,t);this.core=new a["default"](i)}return r(e,[{key:"setContext",value:function(e){return this.core.setContext(e),this}},{key:"setDebug",value:function(e){return this.core.setDebug(e),this}},{key:"setPosition",value:function(e,t){var n=(0,u.wrapAround)(new f["default"](e,t));return this.core.setPosition(n),this}},{key:"setSpeed",value:function(e){return this.core.setSpeed(e),this}},{key:"drawLine",value:function(){if(0===arguments.length)throw new Error("TODO invalid argument error");if((0,u.isObject)(arguments.length<=0?void 0:arguments[0])){var e=arguments.length<=0?void 0:arguments[0];if((0,u.isDefined)(e.x)&&(0,u.isDefined)(e.y))this.core.drawLineTo(e.x,e.y,e.onComplete);else if((0,u.isDefined)(e.degrees)&&(0,u.isDefined)(e.distance))this.core.drawLineANgle(e.degrees,e.distance,e.onComplete);else{if(!(0,u.isDefined)(e.direction)||!(0,u.isDefined)(e.distance))throw new Error("TODO Object incorrect format error");this.core.drawLineDirection(e.direction,e.distance,e.onComplete)}}else if((0,u.isNumber)(arguments.length<=0?void 0:arguments[0])&&(0,u.isNumber)(arguments.length<=1?void 0:arguments[1])){var t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1];this.core.drawLineAngle(t,n)}else if((0,u.isString)(arguments.length<=0?void 0:arguments[0])&&(0,u.isNumber)(arguments.length<=1?void 0:arguments[1])){var i=arguments.length<=0?void 0:arguments[0],o=arguments.length<=1?void 0:arguments[1];this.core.drawLineDirection(i,o)}else{if(!(0,u.isFunction)(arguments.length<=0?void 0:arguments[0]))throw new Error("TODO another invalid argument error");this.core.drawLineFunc(arguments.length<=0?void 0:arguments[0])}return this}},{key:"drawCurve",value:function(){throw new Error("Not implemented error")}},{key:"drawCircle",value:function(){throw new Error("Not implemented error")}}]),e}()},{"./core":1,"./helpers":2,"./point":4}],4:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=e("./helpers"),u=function(){function e(t,n){i(this,e),this._x=t,this._y=n}return o(e,[{key:"angleTo",value:function(e){var t=180*Math.atan2(e.y-this.y,e.x-this.x)/Math.PI;return t<0?t+360:t}},{key:"distanceTo",value:function(e){return Math.sqrt(Math.pow(e.x-this.x,2)+Math.pow(e.y-this.y,2))}},{key:"moveByAngleAndDistance",value:function(t,n){var i=(0,r.toRadians)(t);return new e(this.x+Math.cos(i)*n,this.y+Math.sin(i)*n)}},{key:"x",get:function(){return this._x}},{key:"y",get:function(){return this._y}}]),e}();n["default"]=u},{"./helpers":2}]},{},[3])(3)});
//# sourceMappingURL=linework.min.js.map
